@using Decathlon.Models;
@model Cart
<div id="top-cart" class="header-misc-icon d-none d-sm-block">
    <a href="#" id="top-cart-trigger"><i class="icon-line-bag"></i><span class="top-cart-number">@Model.CartRows.Count()</span></a>
    <div class="top-cart-content">
        <div class="top-cart-title">
            <h4>Shopping Cart</h4>
        </div>
        <div class="top-cart-items">
            @if (Model.CartRows.Count() == 0)
            { 
                <p>Sepetiniz Boş</p>
            }
                @foreach (var item in Model.CartRows)
                {
                    string resim = string.IsNullOrEmpty(item.Product.Image) ? "default-product.png" : item.Product.Image;
                    <div class="top-cart-item">
                        <div class="top-cart-item-image">
                            <a href="#"><img src="~/Content/images/product/@resim" alt="@item.Product.Name" /></a>
                        </div>
                        <div class="top-cart-item-desc">
                            <div class="top-cart-item-desc-title">
                                <a href="#">@item.Product.Name</a>
                                <span class="top-cart-item-price d-block">@((item.Product.Price-((item.Product.Price/100)*item.Product.Discount)).ToString("c"))</span>
                            </div>
                            <div class="top-cart-item-quantity">x @item.Quantity</div>
                        </div>
                    </div>
                }

            </div>
        <div class="top-cart-action">
            <span class="top-checkout-price">@Model.Total().ToString("c")</span>
            <a href="~/Cart" class="button button-3d button-small m-0">View Cart</a>
        </div>
    </div>
</div>
